<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BMT Project - Berpikir Melalui Tulisan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --bg-primary: #000000;
            --bg-secondary: #111111;
            --bg-surface: #1a1a1a;
            --bg-card: #222222;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-muted: #888888;
            --border: #333333;
            --accent: #ffffff;
            --accent-hover: #f0f0f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
        }

        /* Mobile First Header */
        header {
            background-color: var(--bg-surface);
            border-bottom: 1px solid var(--border);
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-shrink: 1;
        }

        .logo-img {
            width: 32px;
            height: 32px;
            filter: invert(1);
        }

        .logo-text h1 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .logo-text p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            display: none;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Mobile Navigation */
        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--bg-surface);
            border-top: 1px solid var(--border);
            padding: 0.5rem;
            z-index: 1000;
        }

        .nav-tabs {
            display: flex;
            justify-content: space-around;
            list-style: none;
        }

        .nav-tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.75rem;
            border: none;
            background: none;
            cursor: pointer;
            flex: 1;
            max-width: 80px;
        }

        .nav-tab.active {
            color: var(--text-primary);
        }

        .nav-tab i {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        /* Main Layout - Mobile First */
        .main-layout {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Sidebar - Hidden by default on mobile */
        .sidebar {
            width: 280px;
            background-color: var(--bg-surface);
            border-right: 1px solid var(--border);
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            position: absolute;
            left: -280px;
            top: 0;
            bottom: 0;
            z-index: 50;
            transition: left 0.3s ease;
        }

        .sidebar.active {
            left: 0;
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 45;
        }

        .sidebar-overlay.active {
            display: block;
        }

        /* Editor - Full width on mobile */
        .editor-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--bg-surface);
            overflow: hidden;
            width: 100%;
        }

        .editor-header {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--bg-surface);
        }

        .editor-title input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
            width: 100%;
            padding: 0.5rem 0;
        }

        .editor-title input:focus {
            outline: none;
        }

        /* Mobile Optimized Toolbar */
        .editor-toolbar {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--bg-surface);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .toolbar-scroll {
            display: flex;
            gap: 0.5rem;
            flex-wrap: nowrap;
        }

        .toolbar-btn {
            padding: 0.75rem;
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            min-width: 44px;
            min-height: 44px;
            flex-shrink: 0;
        }

        .toolbar-btn span {
            font-size: 1.1rem;
        }

        /* Writing Area - Optimized for mobile */
        .writing-area {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        .writing-area textarea {
            flex: 1;
            border: none;
            padding: 1rem;
            font-family: 'Inter', sans-serif;
            font-size: 16px; /* Prevent zoom on iOS */
            line-height: 1.6;
            resize: none;
            outline: none;
            background-color: var(--bg-surface);
            color: var(--text-primary);
            -webkit-overflow-scrolling: touch;
        }

        .markdown-preview {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: var(--bg-surface);
            color: var(--text-primary);
            -webkit-overflow-scrolling: touch;
        }

        /* AI Panel - Slide up on mobile */
        .ai-panel {
            width: 100%;
            background-color: var(--bg-surface);
            border-left: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: absolute;
            right: -100%;
            top: 0;
            bottom: 0;
            z-index: 50;
            transition: right 0.3s ease;
        }

        .ai-panel.active {
            right: 0;
        }

        /* Mobile Stats Bar */
        .writing-stats {
            padding: 0.75rem 1rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            color: var(--text-muted);
            font-size: 0.75rem;
            background-color: var(--bg-surface);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }

        .stat-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Mobile Optimized Components */
        .draft-item {
            padding: 0.75rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            background-color: var(--bg-card);
            margin-bottom: 0.5rem;
        }

        .thinking-mode, .template-item {
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            background-color: var(--bg-card);
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            min-height: 44px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* AI Conversation - Mobile optimized */
        .ai-conversation {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            -webkit-overflow-scrolling: touch;
        }

        .message {
            padding: 0.75rem;
            border-radius: 12px;
            max-width: 85%;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .ai-input textarea {
            width: 100%;
            min-height: 60px;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            resize: none;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            background-color: var(--bg-card);
            color: var(--text-primary);
        }

        /* Mobile First Media Queries */
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .mobile-nav {
                display: block;
            }

            .header-controls, nav ul {
                display: none;
            }

            .logo-text p {
                display: none;
            }

            .editor-toolbar {
                padding: 0.5rem;
            }

            .toolbar-btn {
                padding: 0.6rem;
                min-width: 40px;
                min-height: 40px;
            }

            .writing-area textarea {
                font-size: 16px; /* Prevent zoom */
                padding: 0.75rem;
            }
        }

        @media (min-width: 769px) {
            .sidebar {
                position: static;
                left: auto;
            }

            .ai-panel {
                position: static;
                right: auto;
                width: 350px;
            }

            .mobile-nav, .mobile-menu-btn, .sidebar-overlay {
                display: none;
            }
        }

        @media (min-width: 1024px) {
            .sidebar {
                width: 300px;
            }

            .ai-panel {
                width: 400px;
            }
        }

        /* Touch Improvements */
        button, .draft-item, .thinking-mode, .template-item {
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
        }

        /* Prevent text selection on interactive elements */
        .toolbar-btn, .nav-tab, .draft-item {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        /* Smooth scrolling */
        .sidebar, .ai-conversation, .markdown-preview {
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        /* Focus mode for mobile */
        .focus-mode .writing-area textarea {
            font-size: 18px;
            line-height: 1.8;
            padding: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <button class="mobile-menu-btn" id="mobile-menu-btn">☰</button>
            <div class="logo">
                <img src="https://i.ibb.co.com/VcbWR7x7/logo.png" alt="BMT Logo" class="logo-img">
                <div class="logo-text">
                    <h1>BMT Project</h1>
                    <p>Berpikir Melalui Tulisan</p>
                </div>
            </div>
            <div class="header-controls">
                <div class="save-status" id="save-status">✓</div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active">Beranda</a></li>
                </ul>
            </nav>
        </header>

        <div class="main-layout">
            <!-- Sidebar for mobile -->
            <div class="sidebar-overlay" id="sidebar-overlay"></div>
            <div class="sidebar" id="sidebar">
                <div class="sidebar-section">
                    <h3>Draft Saya</h3>
                    <div class="draft-list" id="mobile-draft-list">
                        <div class="draft-item active">
                            <div class="draft-title">Pemikiran Produktivitas</div>
                            <div class="draft-meta">452 kata • 15 Jan</div>
                        </div>
                        <div class="draft-item">
                            <div class="draft-title">Refleksi Akhir Tahun</div>
                            <div class="draft-meta">789 kata • 28 Des</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>Mode Menulis</h3>
                    <div class="thinking-mode active">
                        <span>✍️</span> Bebas
                    </div>
                    <div class="thinking-mode">
                        <span>🔍</span> Analisis
                    </div>
                    <div class="thinking-mode">
                        <span>⚖️</span> Keputusan
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>Template</h3>
                    <div class="template-item">
                        <span>📝</span> Jurnal Reflektif
                    </div>
                    <div class="template-item">
                        <span>📊</span> Analisis Pro/Kontra
                    </div>
                </div>
            </div>

            <!-- Main Editor -->
            <div class="editor-container">
                <div class="editor-header">
                    <div class="editor-title">
                        <input type="text" id="draft-title" value="Pemikiran tentang Produktivitas" placeholder="Judul draft...">
                    </div>
                </div>

                <div class="editor-toolbar">
                    <div class="toolbar-scroll">
                        <button class="toolbar-btn" title="Bold">B</button>
                        <button class="toolbar-btn" title="Italic">I</button>
                        <button class="toolbar-btn" title="List">•</button>
                        <button class="toolbar-btn" title="Quote">"</button>
                        <button class="toolbar-btn" title="Focus">🎯</button>
                        <button class="toolbar-btn" title="Preview">👁️</button>
                    </div>
                </div>

                <div class="writing-area">
                    <textarea id="editor" placeholder="Mulai menulis di sini... Tuliskan pemikiran Anda dan biarkan AI membantu mengembangkannya.

Gunakan format sederhana:
**Teks tebal**
*Teks miring*
- Daftar poin

Tulis dengan bebas, fokus pada isi bukan format."># Pemikiran tentang Produktivitas

Saya telah mencoba berbagai metode produktivitas, namun masih merasa kesulitan untuk konsisten.

## Tantangan Utama

1. **Distraksi digital** - Notifikasi terus mengganggu
2. **Perencanaan berlebihan** - Terlalu banyak planning
3. **Kelelahan mental** - Burnout periodik

## Insight

> "Produktivitas bukan tentang melakukan lebih banyak, tapi tentang melakukan hal yang tepat."

Saya belajar bahwa fokus pada *sistem* lebih efektif daripada sekadar mengejar *goal*.

## Langkah Selanjutnya

- [ ] Buat jadwal "deep work"
- [ ] Gunakan teknik Pomodoro
- [ ] Review progress mingguan</textarea>
                </div>

                <div class="writing-stats">
                    <div class="stat-item">
                        <div class="stat-label">Kata</div>
                        <div class="stat-value" id="word-count">156</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Baca</div>
                        <div class="stat-value" id="reading-time">1m</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Edit</div>
                        <div class="stat-value" id="writing-time">5m</div>
                    </div>
                </div>
            </div>

            <!-- AI Panel for mobile -->
            <div class="ai-panel" id="ai-panel">
                <div class="ai-header" style="padding: 1rem; border-bottom: 1px solid var(--border);">
                    <h3>🤖 Teman Berfikir</h3>
                </div>

                <div class="ai-conversation">
                    <div class="message ai">
                        Halo! Saya Teman Berfikir Anda. Apa yang ingin Anda eksplorasi hari ini?
                    </div>
                    <div class="message user">
                        Saya merasa stuck dengan produktivitas.
                    </div>
                    <div class="message ai">
                        Bisa ceritakan lebih detail apa yang membuat Anda merasa stuck?
                    </div>
                </div>

                <div class="ai-input" style="padding: 1rem; border-top: 1px solid var(--border);">
                    <textarea placeholder="Tanya AI..."></textarea>
                    <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                        <button class="toolbar-btn" style="flex: 1;">Kirim</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Bottom Navigation -->
        <div class="mobile-nav">
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="write">
                    <i>✍️</i>
                    <span>Tulis</span>
                </button>
                <button class="nav-tab" data-tab="drafts">
                    <i>📁</i>
                    <span>Draft</span>
                </button>
                <button class="nav-tab" data-tab="ai">
                    <i>🤖</i>
                    <span>AI</span>
                </button>
                <button class="nav-tab" data-tab="export">
                    <i>📤</i>
                    <span>Export</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Mobile-Optimized BMT App
        class MobileBMTApp {
            constructor() {
                this.currentTab = 'write';
                this.init();
            }

            init() {
                this.setupMobileEvents();
                this.setupTouchInteractions();
                this.updateStats();
            }

            setupMobileEvents() {
                // Mobile menu toggle
                document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                    this.toggleSidebar();
                });

                // Sidebar overlay
                document.getElementById('sidebar-overlay').addEventListener('click', () => {
                    this.toggleSidebar();
                });

                // Mobile navigation
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        this.switchTab(e.currentTarget.dataset.tab);
                    });
                });

                // Editor events
                const editor = document.getElementById('editor');
                editor.addEventListener('input', () => this.updateStats());

                // Touch improvements
                this.setupTouchInteractions();
            }

            toggleSidebar() {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebar-overlay');
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            }

            toggleAIPanel() {
                const aiPanel = document.getElementById('ai-panel');
                aiPanel.classList.toggle('active');
            }

            switchTab(tab) {
                this.currentTab = tab;
                
                // Update active tab
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('active');
                });
                document.querySelector(`[data-tab="${tab}"]`).classList.add('active');

                // Handle tab actions
                switch(tab) {
                    case 'drafts':
                        this.toggleSidebar();
                        break;
                    case 'ai':
                        this.toggleAIPanel();
                        break;
                    case 'export':
                        this.exportDraft();
                        break;
                    case 'write':
                        // Focus editor
                        document.getElementById('editor').focus();
                        break;
                }
            }

            updateStats() {
                const text = document.getElementById('editor').value;
                const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
                const readingTime = Math.ceil(words / 200);
                
                document.getElementById('word-count').textContent = words;
                document.getElementById('reading-time').textContent = readingTime + 'm';
            }

            setupTouchInteractions() {
                // Prevent double tap zoom on buttons
                document.querySelectorAll('button').forEach(btn => {
                    btn.addEventListener('touchstart', function(e) {
                        if (e.touches.length > 1) {
                            e.preventDefault();
                        }
                    }, { passive: false });
                });

                // Improved touch scrolling
                document.querySelectorAll('.ai-conversation, .markdown-preview').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.scrollBehavior = 'auto';
                    });
                    
                    el.addEventListener('touchend', function() {
                        this.style.scrollBehavior = 'smooth';
                    });
                });
            }

            exportDraft() {
                const content = document.getElementById('editor').value;
                const title = document.getElementById('draft-title').value || 'draft';
                
                // Simple export - in real app, use proper file download
                const blob = new Blob([content], { type: 'text/markdown' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${title}.md`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                // Show confirmation
                alert(`Draft "${title}" berhasil di-export!`);
            }
        }

        // Initialize mobile app
        const mobileApp = new MobileBMTApp();

        // Handle mobile-specific events
        document.addEventListener('DOMContentLoaded', function() {
            // Prevent zoom on input focus
            document.addEventListener('touchstart', function(e) {
                if (e.touches.length > 1) {
                    e.preventDefault();
                }
            }, { passive: false });

            // Improve touch on textareas
            const editor = document.getElementById('editor');
            editor.addEventListener('touchstart', function() {
                this.style.fontSize = '16px'; // Prevent zoom
            });

            // Auto-hide sidebar when clicking draft items on mobile
            document.querySelectorAll('.draft-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        mobileApp.toggleSidebar();
                    }
                });
            });
        });

        // Handle orientation changes
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                document.body.style.height = window.innerHeight + 'px';
            }, 100);
        });
    </script>
</body>
</html>
